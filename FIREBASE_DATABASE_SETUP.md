# Firebase Database 설정 가이드

## 문제 해결: 데이터베이스에 컬렉션이 생성되지 않는 경우

### 1. Firebase Console 접속
1. https://console.firebase.google.com/ 접속
2. 프로젝트 `blog-cdc9b` 선택

### 2. Realtime Database 활성화 확인
1. 왼쪽 메뉴에서 **"Realtime Database"** 클릭
2. 데이터베이스가 없으면 **"데이터베이스 만들기"** 클릭
3. 위치 선택 (가장 가까운 지역 선택, 예: `asia-northeast1`)
4. **"완료"** 클릭

### 3. 규칙 설정 (중요!)

**개발 단계에서는 다음 규칙을 사용하세요:**

1. **"규칙"** 탭 클릭
2. 다음 규칙을 복사하여 붙여넣기:

```json
{
  "rules": {
    ".read": true,
    ".write": true
  }
}
```

3. **"게시"** 버튼 클릭 (반드시!)

### 4. 규칙 확인
- 규칙이 제대로 적용되었는지 확인
- "게시" 버튼을 눌렀는지 확인

## 테스트 방법

1. 관리자 페이지에서 회원 승인 시도
2. 서버 콘솔에서 로그 확인:
   - `✓ REST API로 승인 정보 저장 성공` 또는
   - `✓ pyrebase로 승인 정보 저장 성공`
3. Firebase Console > Realtime Database > Data 탭에서 확인
   - `users/{user_id}` 경로에 데이터가 생성되었는지 확인

## 문제가 계속되면

1. **브라우저 콘솔 확인** (F12)
   - 네트워크 탭에서 요청 상태 확인
   - 에러 메시지 확인

2. **서버 로그 확인**
   - 터미널에서 에러 메시지 확인
   - `❌ 데이터베이스 저장 실패` 메시지 확인

3. **Firebase Console 확인**
   - Realtime Database가 활성화되어 있는지
   - 규칙이 올바르게 설정되어 있는지
   - "게시" 버튼을 눌렀는지

## 주의사항

- 개발 단계에서는 `.read: true, .write: true` 규칙 사용
- 프로덕션 환경에서는 더 엄격한 규칙 사용 필요
- 규칙 변경 후 반드시 "게시" 버튼 클릭!

